%%%-------------------------------------------------------------------
%%% File    : my_start.erl
%%% Author  : Alexander Borovsky <alex@partizan.home>
%%% Description : 
%%%
%%% Created : 24 Jun 2009 by Alexander Borovsky <alex@partizan.home>
%%%-------------------------------------------------------------------
-module(my_start).

%%--------------------------------------------------------------------
%% Include files
%%--------------------------------------------------------------------

%%--------------------------------------------------------------------
%% External exports
%%--------------------------------------------------------------------
-export([start/0, start/1
        ]).

%%--------------------------------------------------------------------
%% Internal exports
%%--------------------------------------------------------------------


%%====================================================================
%% External functions
%%====================================================================
%%--------------------------------------------------------------------
%% Function: 
%% Description:
%%--------------------------------------------------------------------

start() ->
    start([inets]).

start([_T]) ->
    io:format("Starting...~n"),
    application:load(myapp),
    start_webserver(inets).

start_webserver(inets) ->
    inets:stop(),
    application:set_env(inets, services, [{httpd, filename:join(["/home/alex/projects/erlang/my-framework", "config", "inets.conf"])}]),
    
    inets:start().

%%====================================================================
%% Internal functions
%%====================================================================
